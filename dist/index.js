!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).ctrlUrl=r()}(this,function(){"use strict";function w(n){return"[object String]"===Object.prototype.toString.call(n)}function d(n){var r=n.indexOf("?");if(r<0)return{search:"",hash:"",origin:n};var t,o,e=n.indexOf("#"),i=n.substring(0,r);return o=e<0?(t=n.substring(r+1),""):(t=n.substring(r+1,e),n.substring(e+1)),{search:t,hash:o,origin:i}}var s=/(^|&|\?|#)([^&#\?]*)=([^&#\?]*)/g,h=/(^|&|#|\?)([^&#\?]*)=([^&#\?]*)(&|$|#|\?)/;function u(n){var r,t,o,e,i,a,c={};for(r=0,t=n.length;r<t;r++)e=c[(o=n[r].match(h))[2]],i=decodeURIComponent(o[3]),e?(a=e,"[object Array]"===Object.prototype.toString.call(a)?e.push(i):c[o[2]]=[e,i]):c[o[2]]=i;return c}var p="search",g="hash",b="query";function v(n){var r={},t=n.search.match(s);if(r[p]={},r[g]={},r[b]={},t?r[p]=u(t):n.search&&(r[p]=n.search),!n.hash)return r;var o,e,i=n.hash.indexOf("?");e=-1<i?(o=n.hash.substring(0,i),n.hash.substring(i+1)):(o=n.hash,"");var a=o.match(s);a?r[g]=u(a):o&&(r[g]=o);var c=e.match(s);return c&&(r[b]=u(c)),r}function m(n){var r,t="";for(r in n)n[r]&&(t+=r+"="+encodeURIComponent(n[r])+"&");return t.replace(/&$/,"")}return{get:function(n){return v(n?d(n):{search:window.location.search.substring(1),hash:window.location.hash.substring(1)})},set:function(n,r,t){var o;!function(n){return"[object Object]"===Object.prototype.toString.call(n)}(n)?o=d(n):(o={search:window.location.search.substring(1),hash:window.location.hash.substring(1),origin:function(){var n=window.location,r=n.origin,t=n.port;return(r||n.protocol+"//"+n.host+(t?":"+t:""))+n.pathname}()},t=r,r=n);var e=function(n,r){var t,o=v(n),e=o[p]||{},i=r[p],a=o[g]||{},c=r[g],s=o[b]||{},h=r[b];if(i)for(t in i)e[t]=i[t];if(c)if(w(c))a=c;else for(t in c)a[t]=c[t];if(h)for(t in h)s[t]=h[t];var u={};return u[p]=e,u[g]=a,u[b]=s,u}(o,r),i=e[p],a=e[g],c=e[b],s="",h="",u="",l=t&&t.type;i&&(s=m(i)),a&&(h=w(a)?a:m(a)),c&&(u=m(c));var f=o.origin;return s&&(f+="?"+s),h?(f+="#"+h,u&&(f+="?"+u)):u&&(f+="#?"+u),l&&("replace"===l?t.reload?window.location.replace(f):function(n){"history"in window&&"pushState"in window.history?window.history.replaceState({},null,n):window.location.replace(n)}(f):t.reload?window.location.href=f:function(n){"history"in window&&"pushState"in window.history?window.history.pushState({},null,n):window.location.href=n}(f)),f},get_url_params:function(){var n=new RegExp("(^|&)"+name+"=([^&]*)(&|$)"),r=window.location.search.substr(1);return null!=(r=r.match(n))?decodeURIComponent(r[2]):null},set_url_params:function(n,r){var t,o=window.location.href,e=window.location.search.length,i=r&&r.type;for(t in n){var a=new RegExp("([?&]"+t+"=)[^&]*(&|$)");o=a.test(o)?n[t]?o.replace(a,"$1"+encodeURIComponent(n[t])+"$2"):o.replace(a,"$2"):o+(1<(e+=2)?"&":"?")+t+"="+n[t]}return i&&("replace"===i?r.reload?window.location.replace(o):replaceState(o):r.reload?window.location.href=o:pushState(o)),o}}});
